<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ú–∞–≥–∞–∑–∏–Ω</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- Header -->
  <header class="bg-white shadow-md px-4 py-3 flex items-center justify-between fixed w-full top-0 z-50">
    <h1 class="text-xl font-semibold">–ú–∞–≥–∞–∑–∏–Ω</h1>
    <div class="flex items-center space-x-4">
      <input
        type="text"
        id="searchInput"
        placeholder="–ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..."
        class="border rounded px-2 py-1 focus:outline-none focus:ring focus:border-blue-400"
      />
      <!-- –ö–æ—Ä–∑–∏–Ω–∞ -->
      <div class="relative">
        <button id="cartButton" class="p-2 rounded-md hover:bg-gray-200">
          üõí
        </button>
        <span id="cartCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full px-1 hidden">0</span>
      </div>
      <!-- –ú–µ–Ω—é -->
      <button id="menuButton" class="p-2 rounded-md hover:bg-gray-200">
        ‚ò∞
      </button>
    </div>
  </header>

  <!-- Sidebar Menu -->
  <div id="sidebar" class="fixed top-[64px] left-0 w-64 h-full bg-white shadow-lg transform -translate-x-full transition-transform duration-300 z-40">
    <ul class="p-4 space-y-3">
      <li><a href="#" class="text-gray-700 hover:text-blue-600">–ì–ª–∞–≤–Ω–∞—è</a></li>
      <li><a href="#" class="text-gray-700 hover:text-blue-600">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
      <li><a href="#" class="text-gray-700 hover:text-blue-600">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a></li>
      <li><a href="#" class="text-gray-700 hover:text-blue-600">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
    </ul>
  </div>

  <!-- Cart Sidebar -->
  <div id="cartSidebar" class="fixed top-0 right-0 w-80 h-full bg-white shadow-lg transform translate-x-full transition-transform duration-300 z-50 overflow-y-auto">
    <div class="p-4 border-b flex justify-between items-center">
      <h2 class="text-lg font-semibold">–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
      <button id="closeCart" class="text-gray-500 hover:text-black text-2xl leading-none">&times;</button>
    </div>
    <div id="cartItems" class="p-4 space-y-4">
      <p class="text-gray-500 text-sm">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>
    </div>
  </div>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-40 z-30 hidden"></div>

  <!-- Main content -->
  <main class="pt-24 px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4" id="productContainer"></main>

  <script>
    const menuButton = document.getElementById("menuButton");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    const searchInput = document.getElementById("searchInput");
    const productContainer = document.getElementById("productContainer");
    const cartButton = document.getElementById("cartButton");
    const cartSidebar = document.getElementById("cartSidebar");
    const closeCart = document.getElementById("closeCart");
    const cartItems = document.getElementById("cartItems");
    const cartCount = document.getElementById("cartCount");

    let cart = [];

    function openSidebarMenu() {
      sidebar.classList.remove("-translate-x-full");
      overlay.classList.remove("hidden");
    }

    function closeSidebarMenu() {
      sidebar.classList.add("-translate-x-full");
      overlay.classList.add("hidden");
    }

    function openCart() {
      cartSidebar.classList.remove("translate-x-full");
      overlay.classList.remove("hidden");
    }

    function closeCartSidebar() {
      cartSidebar.classList.add("translate-x-full");
      overlay.classList.add("hidden");
    }

    menuButton.addEventListener("click", () => {
      openSidebarMenu();
    });

    cartButton.addEventListener("click", () => {
      openCart();
    });

    closeCart.addEventListener("click", () => {
      closeCartSidebar();
    });

    overlay.addEventListener("click", () => {
      closeSidebarMenu();
      closeCartSidebar();
    });

    searchInput.addEventListener("focus", closeSidebarMenu);

    const products = [
      { name: "–ù–∞—É—à–Ω–∏–∫–∏", price: "1990‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ù–∞—É—à–Ω–∏–∫–∏" },
      { name: "–°–º–∞—Ä—Ç—Ñ–æ–Ω", price: "23990‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–°–º–∞—Ä—Ç—Ñ–æ–Ω" },
      { name: "–ù–æ—É—Ç–±—É–∫", price: "69990‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ù–æ—É—Ç–±—É–∫" },
      { name: "–ú–æ–Ω–∏—Ç–æ—Ä", price: "14990‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ú–æ–Ω–∏—Ç–æ—Ä" },
      { name: "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞", price: "2990‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞" },
      { name: "–ú—ã—à—å", price: "1490‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ú—ã—à—å" },
      { name: "–ö–æ–ª–æ–Ω–∫–∏", price: "2490‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ö–æ–ª–æ–Ω–∫–∏" },
      { name: "–ß–µ—Ö–æ–ª", price: "990‚ÇΩ", image: "https://via.placeholder.com/200x150?text=–ß–µ—Ö–æ–ª" },
    ];

    function updateCartUI() {
  cartItems.innerHTML = "";

  if (cart.length === 0) {
    cartItems.innerHTML = '<p class="text-gray-500 text-sm">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>';
    cartCount.classList.add("hidden");
    return;
  }

  cartCount.classList.remove("hidden");
  cartCount.textContent = cart.length;

  let total = 0;

  cart.forEach(item => {
    const price = parseInt(item.price.replace(/[^\d]/g, ""));
    total += price;

    const div = document.createElement("div");
    div.className = "flex items-center space-x-4";
    div.innerHTML = `
      <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded" />
      <div>
        <p class="font-semibold">${item.name}</p>
        <p class="text-sm text-blue-600">${item.price}</p>
      </div>
    `;
    cartItems.appendChild(div);
  });

  // –û–±—â–∞—è —Å—É–º–º–∞
  const summary = document.createElement("div");
  summary.className = "border-t pt-4 mt-4 text-right";
  summary.innerHTML = `
    <p class="text-lg font-semibold">–ò—Ç–æ–≥–æ: ${total.toLocaleString("ru-RU")}‚ÇΩ</p>
    <button id="checkout" class="mt-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded">
      –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
    </button>
  `;
  cartItems.appendChild(summary);

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
  const checkoutBtn = summary.querySelector("#checkout");
  checkoutBtn.addEventListener("click", () => {
    alert("–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑!");
    cart = [];
    updateCartUI();
    closeCartSidebar();
  });
}


    function renderProducts(items) {
      productContainer.innerHTML = "";

      if (items.length === 0) {
        productContainer.innerHTML = '<p class="col-span-full text-center text-gray-500">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</p>';
        return;
      }

      items.forEach(product => {
        const card = document.createElement("div");
        card.className = "bg-white rounded-xl shadow p-4 flex flex-col items-center text-center";
        card.innerHTML = `
          <img src="${product.image}" alt="${product.name}" class="w-full h-40 object-cover rounded mb-2" />
          <h2 class="font-semibold text-lg">${product.name}</h2>
          <p class="text-blue-600 font-bold mb-2">${product.price}</p>
          <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded add-to-cart">
            –í –∫–æ—Ä–∑–∏–Ω—É
          </button>
        `;
        const btn = card.querySelector(".add-to-cart");
        btn.addEventListener("click", () => {
          cart.push(product);
          updateCartUI();
        });
        productContainer.appendChild(card);
      });
    }

    searchInput.addEventListener("input", () => {
      const query = searchInput.value.trim().toLowerCase();
      const filtered = products.filter(p => p.name.toLowerCase().includes(query));
      renderProducts(filtered);
    });

    renderProducts(products);
  </script>
</body>
</html>
